# GEMINI.md - Gemini Context for {{PROJECT_ID}}

> **Full methodology:** See `AGENTS.md` in this directory for comprehensive analysis guidelines.
> This file contains Gemini-specific context and project status tracking.

---

## Project Overview

**Project ID:** {{PROJECT_ID}}
**Title:** {{PROJECT_TITLE}}
**Species:** {{SPECIES}}
**Tech Stack:** R (primary analysis), Python (downstream viz), Docker (environment)

**Scientific context:** See `context.md` for biological question, datasets, and hypotheses.

---

## Quick Start

1. Read `context.md` for the biological question
2. Check `AGENTS.md` for methodology and critical rules
3. Look for existing checkpoints in `03_results/checkpoints/`
4. Follow phase-based execution model

---

## Architecture Summary

The project follows a **5-Phase Workflow**:

| Phase | Description | Key Outputs |
|-------|-------------|-------------|
| **1** | Core Analysis (DE, GSEA) | `checkpoints/*.rds` |
| **2** | Master Tables | `tables/master_*.csv` |
| **3** | R Visualization | `plots/` |
| **4** | Python Visualization | `plots/Publication/` |
| **5** | Interactive Dashboards | `interactive/` |

---

## Directory Layout

- `00_data/`: Input data (read-only)
  - `processed/`: Count matrices
  - `references/`: Gene sets
- `01_modules/`: Shared code
  - `RNAseq-toolkit/`: DE/GSEA functions
  - `SciAgent-toolkit/`: AI agent infrastructure
- `02_analysis/`: Project-specific scripts
  - `config/`: Configuration files
  - `1.x`: Core pipeline
  - `2.x`: Master tables
  - `3.x`: R visualizations
  - `4.x`: Python visualizations
- `03_results/`: All outputs
  - `checkpoints/`: Cached RDS objects
  - `tables/`: CSV exports
  - `plots/`: Figures

---

## Project Configuration

**Import from:** `02_analysis/config/analysis_config.yaml`

```python
import yaml
with open("02_analysis/config/analysis_config.yaml") as f:
    config = yaml.safe_load(f)
de_fdr = config['thresholds']['de_fdr']
```

---

## Usage

### Running Analysis

```bash
# Run core pipeline
Rscript 02_analysis/1.1.core_pipeline.R

# Generate visualizations
for script in 02_analysis/3.*.R; do Rscript "$script"; done
```

### Loading Checkpoints

```r
# Load existing results
dge <- readRDS("03_results/checkpoints/1.1_dge_normalized.rds")
```

---

## Development Conventions

1. **Context First**: Read `context.md` before coding
2. **Checkpoints**: Save intermediate objects frequently
3. **Master Tables**: Never hardcode data in viz scripts
4. **Style**: Tidyverse for R, pandas/pathlib for Python

---

## Current Status

<!-- Update this section as analysis progresses -->

| Stage | Status | Key Outputs |
|-------|--------|-------------|
| S1: Core DE/GSEA | Not started | `checkpoints/1.1_*.rds` |
| S2: Master Tables | Not started | `tables/master_*.csv` |
| S3: R Visualizations | Not started | `plots/` |
| S4: Python/Interactive | Not started | `interactive/` |

**Completed:** (list completed stages)

**In Progress:** (current work)

**Key Finding:** (notable results)

---

## Task for Gemini

When asked to perform analysis:
1. Check `context.md` for biological question
2. Read `AGENTS.md` for methodology
3. Load relevant checkpoints instead of re-running
4. Update this file upon completion

---

## Key Files

| File | Purpose |
|------|---------|
| `AGENTS.md` | **Full methodology** - read this first |
| `context.md` | Biological question and hypotheses |
| `tasks.md` | Task tracker |
| `notes.md` | Web research and literature notes |
| `02_analysis/config/analysis_config.yaml` | Project parameters |
| `03_results/checkpoints/` | Cached results |
| `03_results/tables/master_*.csv` | Standardized exports |

---

## Version

- **Template version:** 2.0.0
- **Generated:** {{DATE}}
